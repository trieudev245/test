Túm lại recommend là: nếu consume message theo dạng batch (batch size > 0) thì có thể set cái “consumer.concurrency” = cỡ số lượng virtual cores + 1 … Và nếu vẫn ko handle nổi thì cần scale nhiều instance hơn chứ ko recommend là tăng số “consumer.concurrency” này lên
hread này còn dùng cho kafka client (consumer) để send heartbeat / ack lên Kafka broker để keep alive. Cho nên nếu xách ra xài để xử lý business trong đó thì sẽ block cái heartbeat và làm disconnect. Cho nên ko nhất thiêt phải config cái consumer.concurrency này, mà chỉ cần execute cái message processing này trong 1 thread khác thôi là được
